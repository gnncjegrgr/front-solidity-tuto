{"ast":null,"code":"/*\r\n    Copyright 2018 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\nconst rpcFilter = function (filterColl) {\n  let filterOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'include';\n\n  if (!Array.isArray(filterColl)) {\n    throw Error('rpcFilter only takes an array for first argument');\n  } // For filterColl indexing. (Since Array traversing is slower than Object)\n\n\n  filterColl = filterColl.reduce((acc, cur) => {\n    acc[cur] = cur;\n    return acc;\n  }, {});\n  return (data, next) => {\n    if (filterOption === 'include') {\n      if (!filterColl[data.method]) return;\n      next(data);\n    } else if (filterOption === 'exclude') {\n      if (!filterColl[data.method]) next(data);\n    }\n  };\n};\n\nmodule.exports = rpcFilter;","map":{"version":3,"sources":["C:/Users/kimyo/skkrypto project/skkrypto-front-solidity/node_modules/caver-js/packages/caver-middleware/src/builtins/rpcFilter.js"],"names":["rpcFilter","filterColl","filterOption","Array","isArray","Error","reduce","acc","cur","data","next","method","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,SAAS,GAAG,UAACC,UAAD,EAA0C;AAAA,MAA7BC,YAA6B,uEAAd,SAAc;;AACxD,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,UAAd,CAAL,EAAgC;AAC5B,UAAMI,KAAK,CAAC,kDAAD,CAAX;AACH,GAHuD,CAKxD;;;AACAJ,EAAAA,UAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzCD,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWA,GAAX;AACA,WAAOD,GAAP;AACH,GAHY,EAGV,EAHU,CAAb;AAKA,SAAO,CAACE,IAAD,EAAOC,IAAP,KAAgB;AACnB,QAAIR,YAAY,KAAK,SAArB,EAAgC;AAC5B,UAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8B;AAC9BD,MAAAA,IAAI,CAACD,IAAD,CAAJ;AACH,KAHD,MAGO,IAAIP,YAAY,KAAK,SAArB,EAAgC;AACnC,UAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8BD,IAAI,CAACD,IAAD,CAAJ;AACjC;AACJ,GAPD;AAQH,CAnBD;;AAqBAG,MAAM,CAACC,OAAP,GAAiBb,SAAjB","sourcesContent":["/*\r\n    Copyright 2018 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nconst rpcFilter = (filterColl, filterOption = 'include') => {\r\n    if (!Array.isArray(filterColl)) {\r\n        throw Error('rpcFilter only takes an array for first argument')\r\n    }\r\n\r\n    // For filterColl indexing. (Since Array traversing is slower than Object)\r\n    filterColl = filterColl.reduce((acc, cur) => {\r\n        acc[cur] = cur\r\n        return acc\r\n    }, {})\r\n\r\n    return (data, next) => {\r\n        if (filterOption === 'include') {\r\n            if (!filterColl[data.method]) return\r\n            next(data)\r\n        } else if (filterOption === 'exclude') {\r\n            if (!filterColl[data.method]) next(data)\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = rpcFilter\r\n"]},"metadata":{},"sourceType":"script"}