{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimyo\\\\skkrypto project\\\\skkrypto-front-solidity\\\\src\\\\pages\\\\AxiosPrac.js\";\nimport axios from 'axios';\nimport Caver from 'caver-js';\nimport { Button, Link } from '@mui/material';\nimport ABI from '../contractInfo/PRACCONTRACT/ABI.json';\nimport ADDRESS from '../contractInfo/PRACCONTRACT/ADDRESS.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AxiosPrac() {\n  const onClick = async () => {\n    await axios.post('http://localhost:5000/test-api', {\n      firstName: 'Fred',\n      lastName: 'Find'\n    }).then(res => console.log(res));\n  };\n\n  const signAndSend = async () => {\n    const caver = new Caver(window.klaytn);\n    const IPFSCONTRACT = new caver.klay.Contract(ABI, ADDRESS);\n    const {\n      rawTransaction: senderRawTransaction\n    } = await caver.klay.signTransaction({\n      type: 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION',\n      from: window.klaytn.selectedAddress,\n      to: '0x469f65e038A41fC36eCfBf0C366131bF87892388',\n      data: IPFSCONTRACT.methods.setIpfsAddress('2022-02-13', 'today').encodeABI(),\n      gas: '500000',\n      value: caver.utils.toPeb('0', 'KLAY')\n    }); // console.log(rawTransaction);\n\n    console.log(senderRawTransaction);\n    console.log(JSON.stringify(caver));\n    await axios.post('http://localhost:5000/fee-delegated', {\n      caver: 'asd',\n      transaction: JSON.stringify(senderRawTransaction)\n    }).then(res => console.log(res));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: onClick,\n      children: \"axios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: signAndSend,\n      children: \"\\uBC31\\uC5D4\\uB4DC\\uC5D0 \\uC11C\\uBA85\\uD55C \\uD2B8\\uB79C\\uC7AD\\uC158 \\uBCF4\\uB0B4\\uACE0 \\uBC31\\uC5D4\\uB4DC \\uC0C1\\uC5D0\\uC11C \\uD2B8\\uB79C\\uC7AD\\uC158 \\uBCF4\\uB0B4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_c = AxiosPrac;\nexport default AxiosPrac;\n\nvar _c;\n\n$RefreshReg$(_c, \"AxiosPrac\");","map":{"version":3,"sources":["C:/Users/kimyo/skkrypto project/skkrypto-front-solidity/src/pages/AxiosPrac.js"],"names":["axios","Caver","Button","Link","ABI","ADDRESS","AxiosPrac","onClick","post","firstName","lastName","then","res","console","log","signAndSend","caver","window","klaytn","IPFSCONTRACT","klay","Contract","rawTransaction","senderRawTransaction","signTransaction","type","from","selectedAddress","to","data","methods","setIpfsAddress","encodeABI","gas","value","utils","toPeb","JSON","stringify","transaction"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,eAA7B;AACA,OAAOC,GAAP,MAAgB,uCAAhB;AACA,OAAOC,OAAP,MAAoB,2CAApB;;;;AAEA,SAASC,SAAT,GAAqB;AACnB,QAAMC,OAAO,GAAG,YAAY;AAC1B,UAAMP,KAAK,CACRQ,IADG,CACE,gCADF,EACoC;AACtCC,MAAAA,SAAS,EAAE,MAD2B;AAEtCC,MAAAA,QAAQ,EAAE;AAF4B,KADpC,EAKHC,IALG,CAKGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALX,CAAN;AAMD,GAPD;;AASA,QAAMG,WAAW,GAAG,YAAY;AAC9B,UAAMC,KAAK,GAAG,IAAIf,KAAJ,CAAUgB,MAAM,CAACC,MAAjB,CAAd;AAEA,UAAMC,YAAY,GAAG,IAAIH,KAAK,CAACI,IAAN,CAAWC,QAAf,CAAwBjB,GAAxB,EAA6BC,OAA7B,CAArB;AAEA,UAAM;AAAEiB,MAAAA,cAAc,EAAEC;AAAlB,QAA2C,MAAMP,KAAK,CAACI,IAAN,CAAWI,eAAX,CAA2B;AAChFC,MAAAA,IAAI,EAAE,wCAD0E;AAEhFC,MAAAA,IAAI,EAAET,MAAM,CAACC,MAAP,CAAcS,eAF4D;AAGhFC,MAAAA,EAAE,EAAE,4CAH4E;AAIhFC,MAAAA,IAAI,EAAEV,YAAY,CAACW,OAAb,CAAqBC,cAArB,CAAoC,YAApC,EAAkD,OAAlD,EAA2DC,SAA3D,EAJ0E;AAKhFC,MAAAA,GAAG,EAAE,QAL2E;AAMhFC,MAAAA,KAAK,EAAElB,KAAK,CAACmB,KAAN,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,MAAvB;AANyE,KAA3B,CAAvD,CAL8B,CAa9B;;AACAvB,IAAAA,OAAO,CAACC,GAAR,CAAYS,oBAAZ;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYuB,IAAI,CAACC,SAAL,CAAetB,KAAf,CAAZ;AACA,UAAMhB,KAAK,CACRQ,IADG,CACE,qCADF,EACyC;AAC3CQ,MAAAA,KAAK,EAAE,KADoC;AAE3CuB,MAAAA,WAAW,EAAEF,IAAI,CAACC,SAAL,CAAef,oBAAf;AAF8B,KADzC,EAKHZ,IALG,CAKGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALX,CAAN;AAMD,GAtBD;;AAwBA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAEL,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAEQ,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAMD;;KAxCQT,S;AA0CT,eAAeA,SAAf","sourcesContent":["import axios from 'axios';\r\nimport Caver from 'caver-js';\r\nimport { Button, Link } from '@mui/material';\r\nimport ABI from '../contractInfo/PRACCONTRACT/ABI.json';\r\nimport ADDRESS from '../contractInfo/PRACCONTRACT/ADDRESS.json';\r\n\r\nfunction AxiosPrac() {\r\n  const onClick = async () => {\r\n    await axios\r\n      .post('http://localhost:5000/test-api', {\r\n        firstName: 'Fred',\r\n        lastName: 'Find',\r\n      })\r\n      .then((res) => console.log(res));\r\n  };\r\n\r\n  const signAndSend = async () => {\r\n    const caver = new Caver(window.klaytn);\r\n\r\n    const IPFSCONTRACT = new caver.klay.Contract(ABI, ADDRESS);\r\n\r\n    const { rawTransaction: senderRawTransaction } = await caver.klay.signTransaction({\r\n      type: 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION',\r\n      from: window.klaytn.selectedAddress,\r\n      to: '0x469f65e038A41fC36eCfBf0C366131bF87892388',\r\n      data: IPFSCONTRACT.methods.setIpfsAddress('2022-02-13', 'today').encodeABI(),\r\n      gas: '500000',\r\n      value: caver.utils.toPeb('0', 'KLAY'),\r\n    });\r\n    // console.log(rawTransaction);\r\n    console.log(senderRawTransaction);\r\n    console.log(JSON.stringify(caver));\r\n    await axios\r\n      .post('http://localhost:5000/fee-delegated', {\r\n        caver: 'asd',\r\n        transaction: JSON.stringify(senderRawTransaction),\r\n      })\r\n      .then((res) => console.log(res));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={onClick}>axios</Button>\r\n      <Button onClick={signAndSend}>백엔드에 서명한 트랜잭션 보내고 백엔드 상에서 트랜잭션 보내기</Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AxiosPrac;\r\n"]},"metadata":{},"sourceType":"module"}